{"ast":null,"code":"import React,{useState,useRef,useCallback}from\"react\";import{FaLocationArrow,FaTimes,FaCar,FaTree,FaMoneyBillWave,FaClock}from\"react-icons/fa\";import{GoogleMap,Marker,Autocomplete,DirectionsRenderer,InfoWindow}from\"@react-google-maps/api\";import{routesService,predictionsService}from\"../services/api\";// Map container style\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const mapContainerStyle={width:\"100%\",height:\"calc(100vh - 160px)\"};// Default center position (San Francisco)\nconst defaultCenter={lat:37.7749,lng:-122.4194};// Map options\nconst mapOptions={zoomControl:false,streetViewControl:false,mapTypeControl:false,fullscreenControl:false};const Map=_ref=>{let{onRouteCalculated}=_ref;// References\nconst sourceRef=useRef(null);const destinationRef=useRef(null);const mapRef=useRef(null);// State\nconst[map,setMap]=useState(null);const[directionsResponse,setDirectionsResponse]=useState(null);const[distance,setDistance]=useState(\"\");const[duration,setDuration]=useState(\"\");const[predictedDuration,setPredictedDuration]=useState(null);const[routePreferences,setRoutePreferences]=useState({avoidTolls:false,avoidHighways:false,mode:\"driving\"});const[algorithm,setAlgorithm]=useState(\"a-star\");const[isLoading,setIsLoading]=useState(false);const[selectedMarker,setSelectedMarker]=useState(null);const[toast,setToast]=useState({show:false,message:\"\",type:\"\"});// Callback when map loads\nconst onMapLoad=useCallback(map=>{mapRef.current=map;setMap(map);},[]);// Show toast notification\nconst showToast=function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"success\";setToast({show:true,message,type});setTimeout(()=>setToast({show:false,message:\"\",type:\"\"}),3000);};// Calculate route using Google Directions Service and our backend\nconst calculateRoute=async()=>{if(!sourceRef.current.value||!destinationRef.current.value){showToast(\"Please enter both source and destination\",\"error\");return;}setIsLoading(true);try{// Get the places from autocomplete\nconst sourcePlace=sourceRef.current.value;const destPlace=destinationRef.current.value;// First, use Google's DirectionsService to display the route on the map\n// eslint-disable-next-line no-undef\nconst directionsService=new google.maps.DirectionsService();const googleResults=await directionsService.route({origin:sourcePlace,destination:destPlace,// eslint-disable-next-line no-undef\ntravelMode:google.maps.TravelMode.DRIVING});setDirectionsResponse(googleResults);setDistance(googleResults.routes[0].legs[0].distance.text);setDuration(googleResults.routes[0].legs[0].duration.text);// Get the coordinates of source and destination\nconst sourceCoords={lat:googleResults.routes[0].legs[0].start_location.lat(),lng:googleResults.routes[0].legs[0].start_location.lng()};const destCoords={lat:googleResults.routes[0].legs[0].end_location.lat(),lng:googleResults.routes[0].legs[0].end_location.lng()};// Now, use our backend API for route calculation using selected algorithm\nconst source={name:sourcePlace,lat:sourceCoords.lat,lng:sourceCoords.lng};const destination={name:destPlace,lat:destCoords.lat,lng:destCoords.lng};// If we have preferences, use the preferences endpoint\nlet routeResponse;if(routePreferences.avoidTolls||routePreferences.avoidHighways){routeResponse=await routesService.calculateRouteWithPreferences(source,destination,routePreferences);}else{routeResponse=await routesService.calculateRoute(source,destination,algorithm);}console.log(\"Backend route calculation:\",routeResponse.data);// Notify parent component about the calculated route\nif(onRouteCalculated){onRouteCalculated(source,destination,routeResponse.data.route);}// Get ML-based travel time prediction\nconst predictionResponse=await predictionsService.predictTravelTime(source,destination,new Date().toISOString(),\"best_guess\");setPredictedDuration(predictionResponse.data.prediction.travelTimeMinutes);// Show success message\nshowToast(`Route calculated using ${algorithm} algorithm with our ML models`);}catch(error){console.error(\"Error calculating route:\",error);showToast(error.message||\"Error calculating route\",\"error\");}finally{setIsLoading(false);}};// Clear route\nconst clearRoute=()=>{setDirectionsResponse(null);setDistance(\"\");setDuration(\"\");setPredictedDuration(null);sourceRef.current.value=\"\";destinationRef.current.value=\"\";};// Center map on current position\nconst getCurrentLocation=()=>{if(navigator.geolocation){navigator.geolocation.getCurrentPosition(position=>{const pos={lat:position.coords.latitude,lng:position.coords.longitude};map.panTo(pos);map.setZoom(14);},()=>{showToast(\"Error: Geolocation permission denied\",\"error\");});}else{showToast(\"Error: Your browser doesn't support geolocation\",\"error\");}};// Handle route preference changes\nconst handlePreferenceChange=e=>{const{name,value,checked,type}=e.target;setRoutePreferences(prev=>({...prev,[name]:type===\"checkbox\"?checked:value}));};// Handle algorithm change\nconst handleAlgorithmChange=e=>{setAlgorithm(e.target.value);};return/*#__PURE__*/_jsx(\"div\",{className:\"flex h-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full h-full\",children:[/*#__PURE__*/_jsxs(GoogleMap,{mapContainerStyle:mapContainerStyle,center:defaultCenter,zoom:10,options:mapOptions,onLoad:onMapLoad,children:[directionsResponse&&/*#__PURE__*/_jsx(DirectionsRenderer,{directions:directionsResponse}),selectedMarker&&/*#__PURE__*/_jsx(InfoWindow,{position:selectedMarker.position,onCloseClick:()=>setSelectedMarker(null),children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-gray-900\",children:selectedMarker.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:selectedMarker.description})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 left-4 bg-white p-4 rounded-lg shadow-md w-64\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Autocomplete,{children:/*#__PURE__*/_jsx(\"input\",{ref:sourceRef,type:\"text\",placeholder:\"Origin\",className:\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:border-teal-500\"})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Autocomplete,{children:/*#__PURE__*/_jsx(\"input\",{ref:destinationRef,type:\"text\",placeholder:\"Destination\",className:\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:border-teal-500\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mr-2\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"avoidTolls\",checked:routePreferences.avoidTolls,onChange:handlePreferenceChange,className:\"rounded text-teal-500 focus:ring-teal-500\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(FaMoneyBillWave,{className:\"text-teal-500 mr-1\"}),\" No Tolls\"]})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"avoidHighways\",checked:routePreferences.avoidHighways,onChange:handlePreferenceChange,className:\"rounded text-teal-500 focus:ring-teal-500\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(FaTree,{className:\"text-teal-500 mr-1\"}),\" Scenic\"]})]})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{value:algorithm,onChange:handleAlgorithmChange,className:\"w-full p-2 text-sm border border-gray-300 rounded focus:outline-none focus:border-teal-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"dijkstra\",children:\"Dijkstra's Algorithm\"}),/*#__PURE__*/_jsx(\"option\",{value:\"a-star\",children:\"A* Algorithm\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:calculateRoute,className:\"flex-1 p-2 bg-teal-500 text-white font-medium rounded hover:bg-teal-600 transition-colors flex items-center justify-center\",disabled:isLoading,children:[isLoading?/*#__PURE__*/_jsx(\"span\",{className:\"inline-block animate-spin mr-2\",children:\"\\u27F3\"}):/*#__PURE__*/_jsx(FaCar,{className:\"mr-1\"}),\"Calculate\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:clearRoute,className:\"p-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors\",children:/*#__PURE__*/_jsx(FaTimes,{})}),/*#__PURE__*/_jsx(\"button\",{onClick:getCurrentLocation,className:\"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors\",children:/*#__PURE__*/_jsx(FaLocationArrow,{})})]}),distance&&duration&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm p-2 bg-gray-50 rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Distance:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1\",children:distance})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Duration:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1\",children:duration})]}),predictedDuration&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mt-1 text-blue-700\",children:[/*#__PURE__*/_jsx(FaClock,{className:\"mr-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"ML Prediction:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-1\",children:[predictedDuration,\" min\"]})]})]})]})}),toast.show&&/*#__PURE__*/_jsx(\"div\",{className:`fixed bottom-4 right-4 p-3 rounded-lg shadow-lg \n              ${toast.type===\"error\"?\"bg-red-500 text-white\":\"bg-green-500 text-white\"}`,children:toast.message})]})});};export default Map;","map":{"version":3,"names":["React","useState","useRef","useCallback","FaLocationArrow","FaTimes","FaCar","FaTree","FaMoneyBillWave","FaClock","GoogleMap","Marker","Autocomplete","DirectionsRenderer","InfoWindow","routesService","predictionsService","jsx","_jsx","jsxs","_jsxs","mapContainerStyle","width","height","defaultCenter","lat","lng","mapOptions","zoomControl","streetViewControl","mapTypeControl","fullscreenControl","Map","_ref","onRouteCalculated","sourceRef","destinationRef","mapRef","map","setMap","directionsResponse","setDirectionsResponse","distance","setDistance","duration","setDuration","predictedDuration","setPredictedDuration","routePreferences","setRoutePreferences","avoidTolls","avoidHighways","mode","algorithm","setAlgorithm","isLoading","setIsLoading","selectedMarker","setSelectedMarker","toast","setToast","show","message","type","onMapLoad","current","showToast","arguments","length","undefined","setTimeout","calculateRoute","value","sourcePlace","destPlace","directionsService","google","maps","DirectionsService","googleResults","route","origin","destination","travelMode","TravelMode","DRIVING","routes","legs","text","sourceCoords","start_location","destCoords","end_location","source","name","routeResponse","calculateRouteWithPreferences","console","log","data","predictionResponse","predictTravelTime","Date","toISOString","prediction","travelTimeMinutes","error","clearRoute","getCurrentLocation","navigator","geolocation","getCurrentPosition","position","pos","coords","latitude","longitude","panTo","setZoom","handlePreferenceChange","e","checked","target","prev","handleAlgorithmChange","className","children","center","zoom","options","onLoad","directions","onCloseClick","title","description","ref","placeholder","onChange","onClick","disabled"],"sources":["D:/Sarthak/VScode workshop/Projects/DSA project/traveler-guide/frontend/src/components/Map.js"],"sourcesContent":["import React, { useState, useRef, useCallback } from \"react\";\r\nimport {\r\n  FaLocationArrow,\r\n  FaTimes,\r\n  FaCar,\r\n  FaTree,\r\n  FaMoneyBillWave,\r\n  FaClock,\r\n} from \"react-icons/fa\";\r\nimport {\r\n  GoogleMap,\r\n  Marker,\r\n  Autocomplete,\r\n  DirectionsRenderer,\r\n  InfoWindow,\r\n} from \"@react-google-maps/api\";\r\n\r\nimport { routesService, predictionsService } from \"../services/api\";\r\n\r\n// Map container style\r\nconst mapContainerStyle = {\r\n  width: \"100%\",\r\n  height: \"calc(100vh - 160px)\",\r\n};\r\n\r\n// Default center position (San Francisco)\r\nconst defaultCenter = { lat: 37.7749, lng: -122.4194 };\r\n\r\n// Map options\r\nconst mapOptions = {\r\n  zoomControl: false,\r\n  streetViewControl: false,\r\n  mapTypeControl: false,\r\n  fullscreenControl: false,\r\n};\r\n\r\nconst Map = ({ onRouteCalculated }) => {\r\n  // References\r\n  const sourceRef = useRef(null);\r\n  const destinationRef = useRef(null);\r\n  const mapRef = useRef(null);\r\n\r\n  // State\r\n  const [map, setMap] = useState(null);\r\n  const [directionsResponse, setDirectionsResponse] = useState(null);\r\n  const [distance, setDistance] = useState(\"\");\r\n  const [duration, setDuration] = useState(\"\");\r\n  const [predictedDuration, setPredictedDuration] = useState(null);\r\n  const [routePreferences, setRoutePreferences] = useState({\r\n    avoidTolls: false,\r\n    avoidHighways: false,\r\n    mode: \"driving\",\r\n  });\r\n  const [algorithm, setAlgorithm] = useState(\"a-star\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [selectedMarker, setSelectedMarker] = useState(null);\r\n  const [toast, setToast] = useState({ show: false, message: \"\", type: \"\" });\r\n\r\n  // Callback when map loads\r\n  const onMapLoad = useCallback((map) => {\r\n    mapRef.current = map;\r\n    setMap(map);\r\n  }, []);\r\n\r\n  // Show toast notification\r\n  const showToast = (message, type = \"success\") => {\r\n    setToast({ show: true, message, type });\r\n    setTimeout(() => setToast({ show: false, message: \"\", type: \"\" }), 3000);\r\n  };\r\n\r\n  // Calculate route using Google Directions Service and our backend\r\n  const calculateRoute = async () => {\r\n    if (!sourceRef.current.value || !destinationRef.current.value) {\r\n      showToast(\"Please enter both source and destination\", \"error\");\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      // Get the places from autocomplete\r\n      const sourcePlace = sourceRef.current.value;\r\n      const destPlace = destinationRef.current.value;\r\n\r\n      // First, use Google's DirectionsService to display the route on the map\r\n      // eslint-disable-next-line no-undef\r\n      const directionsService = new google.maps.DirectionsService();\r\n      const googleResults = await directionsService.route({\r\n        origin: sourcePlace,\r\n        destination: destPlace,\r\n        // eslint-disable-next-line no-undef\r\n        travelMode: google.maps.TravelMode.DRIVING,\r\n      });\r\n\r\n      setDirectionsResponse(googleResults);\r\n      setDistance(googleResults.routes[0].legs[0].distance.text);\r\n      setDuration(googleResults.routes[0].legs[0].duration.text);\r\n\r\n      // Get the coordinates of source and destination\r\n      const sourceCoords = {\r\n        lat: googleResults.routes[0].legs[0].start_location.lat(),\r\n        lng: googleResults.routes[0].legs[0].start_location.lng(),\r\n      };\r\n\r\n      const destCoords = {\r\n        lat: googleResults.routes[0].legs[0].end_location.lat(),\r\n        lng: googleResults.routes[0].legs[0].end_location.lng(),\r\n      };\r\n\r\n      // Now, use our backend API for route calculation using selected algorithm\r\n      const source = {\r\n        name: sourcePlace,\r\n        lat: sourceCoords.lat,\r\n        lng: sourceCoords.lng,\r\n      };\r\n\r\n      const destination = {\r\n        name: destPlace,\r\n        lat: destCoords.lat,\r\n        lng: destCoords.lng,\r\n      };\r\n\r\n      // If we have preferences, use the preferences endpoint\r\n      let routeResponse;\r\n      if (routePreferences.avoidTolls || routePreferences.avoidHighways) {\r\n        routeResponse = await routesService.calculateRouteWithPreferences(\r\n          source,\r\n          destination,\r\n          routePreferences\r\n        );\r\n      } else {\r\n        routeResponse = await routesService.calculateRoute(\r\n          source,\r\n          destination,\r\n          algorithm\r\n        );\r\n      }\r\n\r\n      console.log(\"Backend route calculation:\", routeResponse.data);\r\n\r\n      // Notify parent component about the calculated route\r\n      if (onRouteCalculated) {\r\n        onRouteCalculated(source, destination, routeResponse.data.route);\r\n      }\r\n\r\n      // Get ML-based travel time prediction\r\n      const predictionResponse = await predictionsService.predictTravelTime(\r\n        source,\r\n        destination,\r\n        new Date().toISOString(),\r\n        \"best_guess\"\r\n      );\r\n\r\n      setPredictedDuration(\r\n        predictionResponse.data.prediction.travelTimeMinutes\r\n      );\r\n\r\n      // Show success message\r\n      showToast(\r\n        `Route calculated using ${algorithm} algorithm with our ML models`\r\n      );\r\n    } catch (error) {\r\n      console.error(\"Error calculating route:\", error);\r\n      showToast(error.message || \"Error calculating route\", \"error\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Clear route\r\n  const clearRoute = () => {\r\n    setDirectionsResponse(null);\r\n    setDistance(\"\");\r\n    setDuration(\"\");\r\n    setPredictedDuration(null);\r\n    sourceRef.current.value = \"\";\r\n    destinationRef.current.value = \"\";\r\n  };\r\n\r\n  // Center map on current position\r\n  const getCurrentLocation = () => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          const pos = {\r\n            lat: position.coords.latitude,\r\n            lng: position.coords.longitude,\r\n          };\r\n          map.panTo(pos);\r\n          map.setZoom(14);\r\n        },\r\n        () => {\r\n          showToast(\"Error: Geolocation permission denied\", \"error\");\r\n        }\r\n      );\r\n    } else {\r\n      showToast(\"Error: Your browser doesn't support geolocation\", \"error\");\r\n    }\r\n  };\r\n\r\n  // Handle route preference changes\r\n  const handlePreferenceChange = (e) => {\r\n    const { name, value, checked, type } = e.target;\r\n\r\n    setRoutePreferences((prev) => ({\r\n      ...prev,\r\n      [name]: type === \"checkbox\" ? checked : value,\r\n    }));\r\n  };\r\n\r\n  // Handle algorithm change\r\n  const handleAlgorithmChange = (e) => {\r\n    setAlgorithm(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex h-full\">\r\n      {/* Main map container */}\r\n      <div className=\"relative w-full h-full\">\r\n        <GoogleMap\r\n          mapContainerStyle={mapContainerStyle}\r\n          center={defaultCenter}\r\n          zoom={10}\r\n          options={mapOptions}\r\n          onLoad={onMapLoad}\r\n        >\r\n          {directionsResponse && (\r\n            <DirectionsRenderer directions={directionsResponse} />\r\n          )}\r\n\r\n          {selectedMarker && (\r\n            <InfoWindow\r\n              position={selectedMarker.position}\r\n              onCloseClick={() => setSelectedMarker(null)}\r\n            >\r\n              <div>\r\n                <h3 className=\"font-bold text-gray-900\">\r\n                  {selectedMarker.title}\r\n                </h3>\r\n                <p className=\"text-sm text-gray-600\">\r\n                  {selectedMarker.description}\r\n                </p>\r\n              </div>\r\n            </InfoWindow>\r\n          )}\r\n        </GoogleMap>\r\n\r\n        {/* Controls container */}\r\n        <div className=\"absolute top-4 left-4 bg-white p-4 rounded-lg shadow-md w-64\">\r\n          <div className=\"space-y-3\">\r\n            <div>\r\n              <Autocomplete>\r\n                <input\r\n                  ref={sourceRef}\r\n                  type=\"text\"\r\n                  placeholder=\"Origin\"\r\n                  className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:border-teal-500\"\r\n                />\r\n              </Autocomplete>\r\n            </div>\r\n            <div>\r\n              <Autocomplete>\r\n                <input\r\n                  ref={destinationRef}\r\n                  type=\"text\"\r\n                  placeholder=\"Destination\"\r\n                  className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:border-teal-500\"\r\n                />\r\n              </Autocomplete>\r\n            </div>\r\n\r\n            <div className=\"flex items-center space-x-2 text-sm\">\r\n              <div className=\"mr-2\">\r\n                <label className=\"flex items-center space-x-1\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"avoidTolls\"\r\n                    checked={routePreferences.avoidTolls}\r\n                    onChange={handlePreferenceChange}\r\n                    className=\"rounded text-teal-500 focus:ring-teal-500\"\r\n                  />\r\n                  <span className=\"flex items-center\">\r\n                    <FaMoneyBillWave className=\"text-teal-500 mr-1\" /> No Tolls\r\n                  </span>\r\n                </label>\r\n              </div>\r\n              <div>\r\n                <label className=\"flex items-center space-x-1\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"avoidHighways\"\r\n                    checked={routePreferences.avoidHighways}\r\n                    onChange={handlePreferenceChange}\r\n                    className=\"rounded text-teal-500 focus:ring-teal-500\"\r\n                  />\r\n                  <span className=\"flex items-center\">\r\n                    <FaTree className=\"text-teal-500 mr-1\" /> Scenic\r\n                  </span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <select\r\n                value={algorithm}\r\n                onChange={handleAlgorithmChange}\r\n                className=\"w-full p-2 text-sm border border-gray-300 rounded focus:outline-none focus:border-teal-500\"\r\n              >\r\n                <option value=\"dijkstra\">Dijkstra's Algorithm</option>\r\n                <option value=\"a-star\">A* Algorithm</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"flex space-x-2\">\r\n              <button\r\n                onClick={calculateRoute}\r\n                className=\"flex-1 p-2 bg-teal-500 text-white font-medium rounded hover:bg-teal-600 transition-colors flex items-center justify-center\"\r\n                disabled={isLoading}\r\n              >\r\n                {isLoading ? (\r\n                  <span className=\"inline-block animate-spin mr-2\">⟳</span>\r\n                ) : (\r\n                  <FaCar className=\"mr-1\" />\r\n                )}\r\n                Calculate\r\n              </button>\r\n              <button\r\n                onClick={clearRoute}\r\n                className=\"p-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors\"\r\n              >\r\n                <FaTimes />\r\n              </button>\r\n              <button\r\n                onClick={getCurrentLocation}\r\n                className=\"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors\"\r\n              >\r\n                <FaLocationArrow />\r\n              </button>\r\n            </div>\r\n\r\n            {distance && duration && (\r\n              <div className=\"text-sm p-2 bg-gray-50 rounded\">\r\n                <div className=\"flex items-center mb-1\">\r\n                  <span className=\"font-medium\">Distance:</span>\r\n                  <span className=\"ml-1\">{distance}</span>\r\n                </div>\r\n                <div className=\"flex items-center\">\r\n                  <span className=\"font-medium\">Duration:</span>\r\n                  <span className=\"ml-1\">{duration}</span>\r\n                </div>\r\n                {predictedDuration && (\r\n                  <div className=\"flex items-center mt-1 text-blue-700\">\r\n                    <FaClock className=\"mr-1\" />\r\n                    <span className=\"font-medium\">ML Prediction:</span>\r\n                    <span className=\"ml-1\">{predictedDuration} min</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Toast notification */}\r\n        {toast.show && (\r\n          <div\r\n            className={`fixed bottom-4 right-4 p-3 rounded-lg shadow-lg \r\n              ${\r\n                toast.type === \"error\"\r\n                  ? \"bg-red-500 text-white\"\r\n                  : \"bg-green-500 text-white\"\r\n              }`}\r\n          >\r\n            {toast.message}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Map;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}